<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>CRM Associa√ß√£o</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<style>
*{box-sizing:border-box}
body{margin:0;font-family:'Poppins',sans-serif;background:#f4f7f6;padding-top:90px}
header{position:fixed;top:0;left:0;right:0;height:80px;background:#1e6b4f;color:#fff;display:flex;align-items:center;padding:0 24px;font-size:22px;font-weight:600;z-index:1000}

.layout{display:grid;grid-template-columns:260px 1fr 260px;gap:20px;padding:20px}

@media(max-width:1100px){
  .layout{grid-template-columns:1fr}
}

.card{background:#fff;border-radius:18px;padding:20px;box-shadow:0 12px 30px rgba(0,0,0,.12)}
.card h2{margin:0 0 14px;color:#1e6b4f;font-size:18px;display:flex;align-items:center;gap:8px}

input,textarea{width:100%;padding:12px;border-radius:12px;border:1px solid #ccc;font-family:'Poppins';font-size:14px}
textarea{resize:none}
button{margin-top:12px;padding:12px 16px;border:none;border-radius:12px;background:#1e6b4f;color:#fff;font-size:14px;font-weight:500;cursor:pointer}
button:hover{background:#15543d}
button.danger{background:#c0392b}

.list{margin-top:14px;display:flex;flex-direction:column;gap:10px}
.item{background:#f6f8f7;border-radius:12px;padding:10px;font-size:14px;display:flex;justify-content:space-between;align-items:center}

.logout{position:fixed;bottom:20px;right:20px;background:#c0392b}
</style>
</head>
<body>
<header>CRM Associa√ß√£o</header>

<div class="layout">

<!-- CART√ïES FIXADOS -->
<div class="card">
<h2>üí≥ Cart√µes (Resumo)</h2>
<div id="resumoCartoes" class="list"></div>
</div>

<!-- CONTE√öDO CENTRAL -->
<div style="display:flex;flex-direction:column;gap:20px">

<div class="card">
<h2>üìå Lembretes</h2>
<textarea id="textoLembrete" rows="3" placeholder="Digite o lembrete"></textarea>
<button id="btnLembrete">Adicionar lembrete</button>
<div id="listaLembretes" class="list"></div>
</div>

<div class="card">
<h2>üèüÔ∏è Aluguel de Quadra</h2>
<input id="nomeQuadra" placeholder="Respons√°vel">
<input type="date" id="dataQuadra">
<input type="time" id="horaQuadra">
<button id="btnQuadra">Registrar aluguel</button>
<div id="listaQuadra" class="list"></div>
</div>

<div class="card">
<h2>üí≥ Registrar Cart√µes</h2>
<input type="date" id="dataCartao">
<input type="number" id="qtdCartao" placeholder="Quantidade">
<button id="btnCartao">Salvar registro</button>
</div>

</div>

<!-- LEMBRETES FIXADOS -->
<div class="card">
<h2>üìå Fixados</h2>
<div id="fixados" class="list"></div>
</div>

</div>

<button class="logout" onclick="logout()">Sair</button>

<script>
if(localStorage.getItem('logado')!=='true') location.href='index.html';

/* ===== LEMBRETES ===== */
let lembretes = JSON.parse(localStorage.getItem('lembretes')||'[]');

const btnLembrete = document.getElementById('btnLembrete');
btnLembrete.onclick = () => {
  const txt = textoLembrete.value.trim();
  if(!txt) return;
  lembretes.push(txt);
  textoLembrete.value='';
  salvarLembretes();
};

function salvarLembretes(){
  localStorage.setItem('lembretes',JSON.stringify(lembretes));
  renderLembretes();
}

function renderLembretes(){
  listaLembretes.innerHTML='';
  fixados.innerHTML='';
  lembretes.forEach((l,i)=>{
    const item=document.createElement('div');
    item.className='item';
    item.innerHTML=`<span>${l}</span><button class="danger">‚úï</button>`;
    item.querySelector('button').onclick=()=>{lembretes.splice(i,1);salvarLembretes()};
    listaLembretes.appendChild(item);
    fixados.appendChild(item.cloneNode(true));
  });
}
renderLembretes();

/* ===== QUADRA ===== */
let quadras = JSON.parse(localStorage.getItem('quadras')||'[]');

document.getElementById('btnQuadra').onclick = () => {
  if(!nomeQuadra.value||!dataQuadra.value||!horaQuadra.value) return;
  quadras.push({n:nomeQuadra.value,d:dataQuadra.value,h:horaQuadra.value});
  nomeQuadra.value='';dataQuadra.value='';horaQuadra.value='';
  salvarQuadras();
};

function salvarQuadras(){
  const hoje=new Date().toISOString().split('T')[0];
  quadras = quadras.filter(q=>q.d>=hoje);
  localStorage.setItem('quadras',JSON.stringify(quadras));
  renderQuadras();
}

function renderQuadras(){
  listaQuadra.innerHTML='';
  quadras.forEach(q=>{
    const item=document.createElement('div');
    item.className='item';
    item.textContent=`${q.n} ‚Ä¢ ${q.d} ${q.h}`;
    listaQuadra.appendChild(item);
  });
}
renderQuadras();

/* ===== CART√ïES ===== */
let cartoes = JSON.parse(localStorage.getItem('cartoes')||'[]');

document.getElementById('btnCartao').onclick = () => {
  if(!dataCartao.value||!qtdCartao.value) return;
  cartoes.push({d:dataCartao.value,q:qtdCartao.value});
  dataCartao.value='';qtdCartao.value='';
  salvarCartoes();
};

function salvarCartoes(){
  localStorage.setItem('cartoes',JSON.stringify(cartoes));
  renderCartoes();
}

function renderCartoes(){
  resumoCartoes.innerHTML='';
  cartoes.forEach(c=>{
    const item=document.createElement('div');
    item.className='item';
    item.textContent=`${c.d} ‚Ä¢ ${c.q}`;
    resumoCartoes.appendChild(item);
  });
}
renderCartoes();

function logout(){localStorage.clear();location.href='index.html'}
</script>
</body>
</html>
